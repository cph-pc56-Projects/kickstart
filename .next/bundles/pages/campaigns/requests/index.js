
          window.__NEXT_REGISTER_PAGE('/campaigns/requests', function() {
            var comp = module.exports=webpackJsonp([4],{858:function(e,t,a){e.exports=a(859)},859:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(43),l=r(n),u=a(84),s=r(u),o=a(46),d=r(o),c=a(21),i=r(c),p=a(4),f=r(p),m=a(5),v=r(m),h=a(6),g=r(h),E=a(7),q=r(E),b=a(0),y=r(b),C=a(108),_=r(C),x=a(52),k=a(62),R=a(115),w=r(R),A=a(861),M=r(A),T=function(e){function t(){return(0,f.default)(this,t),(0,g.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,q.default)(t,e),(0,v.default)(t,[{key:"renderRow",value:function(){var e=this;return this.props.requests.map(function(t,a){return y.default.createElement(M.default,{key:a,id:a,request:t,address:e.props.address,approversCount:e.props.approversCount})})}},{key:"render",value:function(){var e=x.Table.Header,t=x.Table.Row,a=x.Table.HeaderCell,r=x.Table.Body;return y.default.createElement(_.default,null,y.default.createElement("h3",null,"Requests Index "),y.default.createElement(k.Link,{route:"/campaigns/"+this.props.address+"/requests/new"},y.default.createElement("a",null,y.default.createElement(x.Button,{primary:!0,floated:"right",style:{marginBottom:10}},"Add Request")," ")),y.default.createElement(x.Table,null,y.default.createElement(e,null,y.default.createElement(t,null,y.default.createElement(a,null,"ID"),y.default.createElement(a,null,"Description"),y.default.createElement(a,null,"Amount (ether)"),y.default.createElement(a,null,"Recipient"),y.default.createElement(a,null,"Approval"),y.default.createElement(a,null,"Approve"),y.default.createElement(a,null,"Finalize"))),y.default.createElement(r,null,this.renderRow())),y.default.createElement("div",null,"Found ",this.props.requestCount," requests."))}}],[{key:"getInitialProps",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(t){var a,r,n,u,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query.address,r=(0,w.default)(a),e.next=4,r.methods.getRequestsCount().call();case 4:return n=e.sent,e.next=7,r.methods.approversCount().call();case 7:return u=e.sent,e.next=10,s.default.all(Array(parseInt(n)).fill().map(function(e,t){return r.methods.requests(t).call()}));case 10:return o=e.sent,e.abrupt("return",{address:a,requests:o,requestCount:n,approversCount:u});case 12:case"end":return e.stop()}},e,this)}));return e}()}]),t}(b.Component);t.default=T},861:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(43),l=r(n),u=a(46),s=r(u),o=a(21),d=r(o),c=a(4),i=r(c),p=a(5),f=r(p),m=a(6),v=r(m),h=a(7),g=r(h),E=a(0),q=r(E),b=a(52),y=a(76),C=r(y),_=a(115),x=r(_),k=a(62),R=function(e){function t(){var e,a,r,n,u=this;(0,i.default)(this,t);for(var o=arguments.length,c=Array(o),p=0;p<o;p++)c[p]=arguments[p];return a=r=(0,v.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(c))),r.state={loading:!1,loading1:!1,errorMessage:""},r.onApprove=(0,s.default)(l.default.mark(function e(){var t,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,x.default)(r.props.address),e.next=3,C.default.eth.getAccounts();case 3:return a=e.sent,r.setState({loading:!0,errorMessage:""}),e.prev=5,e.next=8,t.methods.approveRequests(r.props.id).send({from:a[0]});case 8:k.Router.replaceRoute("/campaigns/"+r.props.address+"/requests"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),r.setState({errorMessage:e.t0.message});case 14:r.setState({loading:!1});case 15:case"end":return e.stop()}},e,u,[[5,11]])})),r.onFinalize=(0,s.default)(l.default.mark(function e(){var t,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,x.default)(r.props.address),e.next=3,C.default.eth.getAccounts();case 3:return a=e.sent,r.setState({loading1:!0,errorMessage:""}),e.prev=5,e.next=8,t.methods.finalizeRequest(r.props.id).send({from:a[0]});case 8:k.Router.replaceRoute("/campaigns/"+r.props.address+"/requests"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),r.setState({errorMessage:e.t0.message});case 14:r.setState({loading1:!1});case 15:case"end":return e.stop()}},e,u,[[5,11]])})),n=a,(0,v.default)(r,n)}return(0,g.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=b.Table.Row,t=b.Table.Cell,a=this.props,r=a.id,n=a.request,l=a.approversCount,u=n.approvalCount>l/2;return q.default.createElement(e,{disabled:n.complete,positive:u&&!n.complete},q.default.createElement(t,null,r),q.default.createElement(t,null,n.description),q.default.createElement(t,null,C.default.utils.fromWei(n.value,"ether")),q.default.createElement(t,null,n.recipient),q.default.createElement(t,null,n.approvalCount,"/",l),q.default.createElement(t,null,n.complete?null:q.default.createElement(b.Button,{color:"green",basic:!0,onClick:this.onApprove,loading:this.state.loading},"Approve")),q.default.createElement(t,null,n.complete||!u?null:q.default.createElement(b.Button,{color:"teal",basic:!0,onClick:this.onFinalize,loading:this.state.loading1},"Finalize")))}}]),t}(E.Component);t.default=R}},[858]);
            return { page: comp.default }
          })
        